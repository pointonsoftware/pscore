# Copyright (C) Pointon Software - All Rights Reserved
# Unauthorized copying of this file, via any medium is strictly prohibited
# Proprietary and confidential
# Written by Ben Ziv <pointonsoftware@gmail.com>, September 2020

name: windows

on: push

jobs:
  windows:
    name:  MinGW64
    runs-on: windows-latest

    steps:
    - uses: actions/checkout@v2
    - uses: msys2/setup-msys2@v2

    - name: Checkout
      with:
        submodules: recursive

    - name: Installing mingw
      with:
        install: mingw-w64-x86_64-gcc
      run: gcc --version
    
    - name: Running CMake
      shell: msys2 {0}
      run : |
        cmake --version
        cd ${{ github.workspace }}
        ./clean_build.sh
